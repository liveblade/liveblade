/*!
 * LiveBlade v2.0.0
 * Production-ready AJAX for Laravel Blade
 * @license MIT
 *
 * Included:
 *   - core
 *   - html-controller
 *   - rate-limiter
 *   - state
 *   - html
 *   - nav
 *   - search
 *   - filter
 *   - sort
 *   - button
 *   - toggle
 *   - data
 *   - pagination
 */
!function(e,t){"use strict";if(e.LiveBlade)return;const r="2.0.0",s="1"===localStorage.getItem("lb_debug");function i(...e){s&&console.log("[LiveBlade]",...e)}function n(...e){console.warn("[LiveBlade]",...e)}function o(...e){console.error("[LiveBlade]",...e)}let a=0;const l={version:r,controllers:new WeakMap,instances:new Set,config:{debounce:300,throttle:100,retryDelay:2e3,maxRetries:3,requestTimeout:3e4,skeletonHTML:null,errorHTML:null,successDuration:1500,errorDuration:3e3,updateUrl:!1,updateUrlMode:"push",preserveScroll:!0,preserveInputs:!0,preserveFocus:!0,smartUpdate:!0,contentHashLength:500},csrf:null,_events:Object.create(null),_features:Object.create(null),_binders:Object.create(null),_initialized:!1};var d;l.utils={log:i,warn:n,error:o,escapeHtml:e=>null==e?"":String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),cssEscape:e=>null==e?"":"undefined"!=typeof CSS&&CSS.escape?CSS.escape(e):String(e).replace(/([^\w-])/g,"\\$1"),sameOrigin:function(t){try{return new URL(t,e.location.href).origin===e.location.origin}catch{return!1}},uniqueId:function(e="lb"){return`${e}_${++a}_${Date.now().toString(36)}`},debounce:function(e,t){let r;return function(...s){clearTimeout(r),r=setTimeout(()=>e.apply(this,s),t)}},throttle:function(e,t){let r;return function(...s){r||(e.apply(this,s),r=!0,setTimeout(()=>r=!1,t))}},parseUrl:function(t){try{const r=new URL(t,e.location.href);return{path:r.pathname,params:Object.fromEntries(r.searchParams.entries()),hash:r.hash}}catch{return{path:"/",params:{},hash:""}}},buildUrl:function(t,r,s=""){const i=new URL(t,e.location.href);return i.search="",Object.entries(r).forEach(([e,t])=>{null!=t&&""!==t&&i.searchParams.set(e,t)}),i.pathname+i.search+(s||"")}},l.refreshCsrf=function(){return this.csrf=t.querySelector('meta[name="csrf-token"]')?.content||"",this.csrf||n("CSRF token not found."),this},l.getCsrf=function(){return this.csrf||this.refreshCsrf(),this.csrf},l.on=function(e,t){return"function"!=typeof t||(this._events[e]||=[]).push(t),this},l.off=function(e,t){return this._events[e]?(t?this._events[e]=this._events[e].filter(e=>e!==t):delete this._events[e],this):this},l.emit=function(e,t){return(this._events[e]||[]).forEach(e=>{try{e(t)}catch(e){o("Event listener error:",e)}}),this},l.once=function(e,t){const r=s=>{this.off(e,r),t(s)};return this.on(e,r)},l.use=function(e,t={}){return"function"==typeof e?e(this,t):e?.install&&e.install(this,t),this},l.registerFeature=function(e,t){return this._features[e]?(n(`Feature "${e}" already registered.`),this):(this._features[e]=t,"function"==typeof t.init&&t.init(this),i(`Feature "${e}" registered.`),this)},l.hasFeature=function(e){return!!this._features[e]},l.registerBinder=function(e,t){return this._binders[e]?(n(`Binder "${e}" already registered.`),this):(this._binders[e]=t,i(`Binder "${e}" registered.`),this)},l.resolve=function(e){if(!e)return null;const r=e.getAttribute("data-lb-target");if(r){const e=t.querySelector(r);return e?l.controllers.get(e):null}const s=e.closest('[data-lb="html"], [data-lb-html], [data-lb-container]');return s?l.controllers.get(s):null},l.bind=function(e=t){return Object.entries(this._binders).forEach(([t,r])=>{if(!r.selector)return;e.querySelectorAll(`${r.selector}:not([data-lb-bound~="${t}"])`).forEach(e=>{try{r.bind(e,this);const s=e.getAttribute("data-lb-bound")||"";e.setAttribute("data-lb-bound",(s+" "+t).trim())}catch(e){o(`Binder "${t}" error:`,e)}})}),this},l.refresh=function(e){if("string"==typeof e){const r=l.controllers.get(t.querySelector(e));r&&r.refresh()}else if(e instanceof HTMLElement){const t=l.controllers.get(e);t&&t.refresh()}else l.instances.forEach(e=>e.refresh());return this},l.cleanup=function(e=t){return e.querySelectorAll("[data-lb-bound]").forEach(e=>{const t=l.controllers.get(e);t?.dispose&&t.dispose(),l.controllers.delete(e),e.removeAttribute("data-lb-bound"),e._lbDataTimer&&(clearInterval(e._lbDataTimer),delete e._lbDataTimer)}),this},l.configure=function(e){return e&&"object"==typeof e&&Object.assign(l.config,e),this},l.debug=function(e=!0){return localStorage.setItem("lb_debug",e?"1":"0"),console.log("[LiveBlade] Debug mode "+(e?"enabled":"disabled")+". Reload page."),this},l.test=function(e){const r="string"==typeof e?t.querySelector(e):e;if(!r)return console.log("âŒ Not found:",e),null;console.log("âœ… Found:",r);const s=l.resolve(r);return s&&console.log("ðŸŽ® Controller:",s.id,s.getUrl()),{el:r,ctrl:s}},l.getController=function(e){const r="string"==typeof e?t.querySelector(e):e;return r?l.controllers.get(r):null},l.getAllControllers=()=>Array.from(l.instances),l.init=function(){return this._initialized||(this._initialized=!0,this.refreshCsrf(),t.addEventListener("csrf-token-update",()=>this.refreshCsrf()),this.bind(),i("Initialized v"+r),this.emit("init")),this},d=()=>l.init(),"loading"===t.readyState?t.addEventListener("DOMContentLoaded",d):d(),e.LiveBlade=l}(window,document),function(e){"use strict";function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}function r(e,t){this.el=e,this.LiveBlade=t,this.id=t.utils.uniqueId("ctrl"),this.path="/",this.params={},this.hash="",this.abortController=null,this.timeoutId=null,this.refreshTimer=null,this.requestId=0,this.retryCount=0,this.lastHTML=null,this._historyInitialized=!1,this._disposed=!1,e.getAttribute("role")||e.setAttribute("role","region"),e.getAttribute("aria-live")||e.setAttribute("aria-live","polite"),t.instances.add(this),this._initFromAttributes()}r.prototype._initFromAttributes=function(){const e=this.el,t=e.getAttribute("data-lb-fetch")||e.getAttribute("data-lb-html")||e.getAttribute("data-lb");t&&"html"!==t&&this.setUrl(t);const r=parseInt(e.getAttribute("data-lb-interval"),10);r>0&&(this.refreshTimer=setInterval(()=>{this._disposed||this.refresh()},1e3*r)),t&&"html"!==t&&this.load(!1,{pushState:!1,isInitial:!0})},r.prototype.setUrl=function(e){const{sameOrigin:t,parseUrl:r}=this.LiveBlade.utils;if(!e||!t(e))return this;const s=r(e);return this.path=s.path,this.params=s.params,this.hash=s.hash,this},r.prototype.updateParam=function(e,t){return null==t||""===t?delete this.params[e]:this.params[e]=String(t),this},r.prototype.updateParams=function(e){return Object.entries(e).forEach(([e,t])=>this.updateParam(e,t)),this},r.prototype.resetPage=function(){return delete this.params.page,this},r.prototype.getUrl=function(){return this.LiveBlade.utils.buildUrl(this.path,this.params,this.hash)},r.prototype.showSkeleton=function(){this.el.innerHTML.trim()||(this.el.innerHTML=this.LiveBlade.config.skeletonHTML||'\n            <div class="lb-skeleton" role="status" aria-label="Loading">\n                <div class="lb-skeleton-line"></div>\n                <div class="lb-skeleton-line" style="width:90%"></div>\n                <div class="lb-skeleton-line" style="width:75%"></div>\n            </div>\n        ')},r.prototype.setLoading=function(e){this.el.classList.toggle("lb-loading",e),this.el.setAttribute("aria-busy",e?"true":"false"),this.LiveBlade.emit(e?"loading:start":"loading:end",{controller:this})},r.prototype.abortPendingRequest=function(){this.abortController&&(this.abortController.abort(),this.abortController=null),this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)},r.prototype.load=async function(r=!1,s={}){if(this._disposed)return;const{sameOrigin:i,log:n,escapeHtml:o}=this.LiveBlade.utils,a=this.LiveBlade.config,l=this.getUrl();if(!l||!i(l))return;if(this.LiveBlade.rateLimiter&&!this.LiveBlade.rateLimiter.canRequest(l))return;this.requestId+=1;const d=this.requestId;s.isInitial&&!r&&this.showSkeleton(),this.abortPendingRequest(),this.abortController=new AbortController,this.timeoutId=setTimeout(()=>{this.abortController&&this.abortController.abort()},a.requestTimeout);const c=this.el.innerHTML,u=this.LiveBlade.state?.saveAll(this.el,a);let h,f;this.setLoading(!0),n("Fetching:",l);try{h=await fetch(l,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest","X-LiveBlade":"true",Accept:"application/json, text/html","X-CSRF-TOKEN":this.LiveBlade.getCsrf()},credentials:"same-origin",signal:this.abortController.signal})}catch(e){if(this.timeoutId&&clearTimeout(this.timeoutId),"AbortError"===e.name)return;return void this.handleError(e,l,r)}if(this.timeoutId&&clearTimeout(this.timeoutId),d!==this.requestId)return;try{if(h.redirected)return void(e.location.href=h.url);if(!h.ok)throw new Error(`HTTP ${h.status}`);f=(h.headers.get("content-type")||"").includes("application/json")?await h.json():{html:await h.text(),has_more:!1}}catch(e){return void this.handleError(e,l,r)}finally{this.setLoading(!1)}const p="string"==typeof f.html?f.html:"",b=!!f.has_more,m=r||!a.smartUpdate||function(e,r,s=500){return!(e===r||e&&r&&e.length===r.length&&e.slice(0,s)===r.slice(0,s)&&e.slice(-s)===r.slice(-s)&&t(e)===t(r))}(c,p,a.contentHashLength);if(r?this.el.insertAdjacentHTML("beforeend",p):m&&(this.el.innerHTML=p,this.lastHTML=p),this.el.dataset.lbHasMore=b?"1":"0",this.retryCount=0,m&&this.LiveBlade.bind(this.el),!r&&u&&this.LiveBlade.state?.restoreAll(this.el,u),!r&&s.pushState&&e.history&&a.updateUrl){const t=this.getUrl(),r={liveblade:!0,controllerId:this.id,path:this.path,params:{...this.params}};!this._historyInitialized||s.replaceState||"replace"===a.updateUrlMode?(e.history.replaceState(r,"",t),this._historyInitialized=!0):e.history.pushState(r,"",t)}this.el.dispatchEvent(new CustomEvent("lb:loaded",{detail:{url:l,data:f,append:r},bubbles:!0})),this.LiveBlade.emit("loaded",{controller:this,url:l,data:f,append:r,changed:m})},r.prototype.handleError=function(e,t,r){if(this._disposed||"AbortError"===e.name)return;const{error:s,escapeHtml:i}=this.LiveBlade.utils,n=this.LiveBlade.config;if(s("Request failed:",e.message),this.retryCount<n.maxRetries){this.retryCount++;const e=n.retryDelay*this.retryCount;return void setTimeout(()=>{this._disposed||this.load(r,{})},e)}const o=!1===navigator?.onLine;this.el.innerHTML=function(e,t=!1,r){return`\n            <div class="lb-error" role="alert">\n                <div class="lb-error-icon">\n                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                        <circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/>\n                        <line x1="12" y1="16" x2="12.01" y2="16"/>\n                    </svg>\n                </div>\n                <strong>Failed to load content</strong>\n                <p>${t?"You appear to be offline.":r(e)}</p>\n                <button type="button" class="lb-retry-btn" data-lb-action="refresh">\n                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                        <path d="M23 4v6h-6M1 20v-6h6"/>\n                        <path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"/>\n                    </svg>\n                    Try Again\n                </button>\n            </div>\n        `}(e.message,o,i),this.LiveBlade.bind(this.el),this.el.dispatchEvent(new CustomEvent("lb:error",{detail:{error:e,url:t},bubbles:!0})),this.LiveBlade.emit("error",{controller:this,error:e,url:t,offline:o})},r.prototype.refresh=function(){return this.resetPage(),this.load(!1,{pushState:!0})},r.prototype.navigate=function(e){return e&&this.setUrl(e),this.load(!1,{pushState:!0})},r.prototype.loadMore=function(){const e=parseInt(this.params.page||"1",10);return this.params.page=String(e+1),this.load(!0)},r.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.abortPendingRequest(),this.refreshTimer&&clearInterval(this.refreshTimer),this.LiveBlade.instances.delete(this),this.LiveBlade.controllers.delete(this.el),this.el.removeAttribute("data-lb-bound"))};const s={init(t){t.HtmlController=r,e.addEventListener("popstate",r=>{r.state?.liveblade&&t.instances.forEach(t=>{r.state.path?(t.path=r.state.path,t.params={...r.state.params}):t.setUrl(e.location.href),t.load(!1,{pushState:!1})})}),e.addEventListener("online",()=>{t.emit("online"),t.instances.forEach(e=>{e.retryCount>0&&(e.retryCount=0,e.refresh())})}),e.addEventListener("offline",()=>t.emit("offline"))}};e.LiveBlade&&e.LiveBlade.registerFeature("html-controller",s),"undefined"!=typeof module&&module.exports&&(module.exports={HtmlController:r,HtmlControllerFeature:s})}(window,document),function(e){"use strict";const t={requests:new Map,maxRequests:100,windowMs:6e4,cleanupInterval:null,init(e){this.cleanupInterval||(this.cleanupInterval=setInterval(()=>this.cleanup(),this.windowMs),e.rateLimiter=this)},cleanup(){const e=Date.now();for(const[t,r]of this.requests){const s=r.filter(t=>e-t<this.windowMs);0===s.length?this.requests.delete(t):this.requests.set(t,s)}},canRequest(t){const r=Date.now(),s=(this.requests.get(t)||[]).filter(e=>r-e<this.windowMs);return s.length>=this.maxRequests?(e.LiveBlade&&e.LiveBlade.utils.log("Rate limit exceeded:",t),!1):(s.push(r),this.requests.set(t,s),!0)},reset(e){e?this.requests.delete(e):this.requests.clear()}};e.LiveBlade&&e.LiveBlade.registerFeature("rate-limiter",t),"undefined"!=typeof module&&module.exports&&(module.exports=t)}(window),function(e){"use strict";const t={init(e){e.state=this},saveScrollPosition:e=>({top:e.scrollTop,left:e.scrollLeft}),restoreScrollPosition(e,t){t&&(e.scrollTop=t.top,e.scrollLeft=t.left)},saveFocusState(e){const t=document.activeElement;return t&&e.contains(t)?{id:t.id,name:t.name,selectionStart:t.selectionStart,selectionEnd:t.selectionEnd}:null},restoreFocusState(t,r){if(!r)return;const s=e.LiveBlade?.utils?.cssEscape||(e=>e);let i=null;if(r.id&&(i=t.querySelector(`#${s(r.id)}`)),!i&&r.name&&(i=t.querySelector(`[name="${s(r.name)}"]`)),i?.focus&&(i.focus(),null!=r.selectionStart&&i.setSelectionRange))try{i.setSelectionRange(r.selectionStart,r.selectionEnd)}catch{}},saveInputStates(t){const r=t.querySelectorAll("input, textarea, select"),s=[],i=e.LiveBlade?.utils?.cssEscape||(e=>e);return r.forEach(e=>{const t=e.id,r=e.name;let n=null;if(t)n=`#${i(t)}`;else if(r){n=`${e.tagName.toLowerCase()}[name="${i(r)}"]`,"radio"===e.type&&(n+=`[value="${i(e.value)}"]`)}if(!n)return;const o={selector:n,tagName:e.tagName};"checkbox"===e.type?(o.type="checkbox",o.checked=e.checked):"radio"===e.type?(o.type="radio",o.checked=e.checked):"SELECT"===e.tagName?(o.type="select",o.value=e.value,o.selectedIndex=e.selectedIndex,e.multiple&&(o.selectedValues=Array.from(e.selectedOptions).map(e=>e.value))):(o.type="text",o.value=e.value),s.push(o)}),s},restoreInputStates(e,t,r=!0){t?.length&&t.forEach(t=>{const s=e.querySelector(t.selector);s&&(r&&document.activeElement===s||("checkbox"===t.type||"radio"===t.type?s.checked=t.checked:"select"===t.type?t.selectedValues&&s.multiple?Array.from(s.options).forEach(e=>{e.selected=t.selectedValues.includes(e.value)}):(s.value=t.value,s.value!==t.value&&t.selectedIndex>=0&&(s.selectedIndex=t.selectedIndex)):s.value=t.value))})},saveAll(e,t={}){return{scroll:!1!==t.preserveScroll?this.saveScrollPosition(e):null,focus:!1!==t.preserveFocus?this.saveFocusState(e):null,inputs:!1!==t.preserveInputs?this.saveInputStates(e):null}},restoreAll(e,t){t&&(this.restoreScrollPosition(e,t.scroll),this.restoreInputStates(e,t.inputs),this.restoreFocusState(e,t.focus))}};e.LiveBlade&&e.LiveBlade.registerFeature("state",t),"undefined"!=typeof module&&module.exports&&(module.exports=t)}(window),function(e){"use strict";const t={selector:'[data-lb="html"], [data-lb-html], [data-lb]:not([data-lb="nav"]):not([data-lb="search"]):not([data-lb="filter"]):not([data-lb="button"]):not([data-lb="toggle-update"]):not([data-lb="data"]):not([data-lb="pagination"]):not([data-lb="form"])',bind(e,t){const r=e.getAttribute("data-lb");if(r&&!r.startsWith("/")&&"html"!==r)return;if(t.controllers.has(e))return;if(!t.HtmlController)return void t.utils.warn("HtmlController not available. Include html-controller.js feature.");const s=new t.HtmlController(e,t);t.controllers.set(e,s)}};e.LiveBlade&&e.LiveBlade.registerBinder("html",t),"undefined"!=typeof module&&module.exports&&(module.exports=t)}(window),function(e){"use strict";const t={selector:'[data-lb="nav"], [data-lb-nav]',bind(e,t){const{sameOrigin:r}=t.utils,s=s=>{if("keydown"===s.type&&"Enter"!==s.key&&" "!==s.key)return;s.preventDefault();const i=t.resolve(e);if(!i)return;const n=e.dataset.lbFetch||e.getAttribute("href");if(!n||!r(n))return;i.setUrl(n),i.refresh();const o=e.closest(".nav, [data-lb-nav-group]");o&&o.querySelectorAll(".active").forEach(e=>e.classList.remove("active")),e.classList.add("active")};e.addEventListener("click",s),e.addEventListener("keydown",s),e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),e.getAttribute("role")||e.setAttribute("role","button")}};e.LiveBlade&&e.LiveBlade.registerBinder("nav",t),"undefined"!=typeof module&&module.exports&&(module.exports=t)}(window),function(e){"use strict";const t={selector:'[data-lb="search"], [data-lb-search]',bind(e,t){const{debounce:r}=t.utils,s=()=>{const r=t.resolve(e);r&&(r.updateParam(e.name||"search",e.value),r.resetPage(),r.refresh())},i=r(s,t.config.debounce);e.addEventListener("input",i),e.addEventListener("keydown",e=>{"Enter"===e.key&&(e.preventDefault(),s())})}};e.LiveBlade&&e.LiveBlade.registerBinder("search",t),"undefined"!=typeof module&&module.exports&&(module.exports=t)}(window),function(e){"use strict";const t={selector:['[data-lb="filter"]',"[data-lb-filter]",'[data-lb="select"]','[data-lb="checkbox"]','[data-lb="radio"]','[data-lb="date"]','[data-lb="time"]','[data-lb="datetime-local"]','[data-lb="month"]','[data-lb="week"]','[data-lb="number"]','[data-lb="range"]','[data-lb="color"]'].join(", "),bind(e,t){const{throttle:r}=t.utils,s=r(()=>{const r=t.resolve(e);if(!r)return;const s=e.name||e.dataset.lbParam||"filter";let i;i="checkbox"===e.type?e.checked?"on"!==e.value?e.value:"1":"":"radio"===e.type?e.checked?e.value:"":e.value,r.updateParam(s,i),r.resetPage(),r.refresh()},t.config.throttle);e.addEventListener("change",s)}};e.LiveBlade&&e.LiveBlade.registerBinder("filter",t),"undefined"!=typeof module&&module.exports&&(module.exports=t)}(window),function(e){"use strict";const t={selector:"[data-lb-sort]",bind(e,t){const r=()=>{const r=t.resolve(e);if(!r)return;const s=e.dataset.lbSort,i=r.params.sort===s&&"asc"===r.params.dir?"desc":"asc";r.updateParam("sort",s),r.updateParam("dir",i),r.resetPage();const n=e.closest("table");n&&n.querySelectorAll("[data-lb-sort]").forEach(e=>{e.removeAttribute("aria-sort"),e.classList.remove("lb-sort-asc","lb-sort-desc")}),e.setAttribute("aria-sort","asc"===i?"ascending":"descending"),e.classList.add("asc"===i?"lb-sort-asc":"lb-sort-desc"),r.refresh()};e.addEventListener("click",r),e.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),r())}),e.style.cursor="pointer",e.getAttribute("tabindex")||e.setAttribute("tabindex","0")}};e.LiveBlade&&e.LiveBlade.registerBinder("sort",t),"undefined"!=typeof module&&module.exports&&(module.exports=t)}(window),function(e){"use strict";const t={selector:'[data-lb="button"], [data-lb-button], [data-lb-action="refresh"], [data-lb-action="load-more"], [data-lb-action="more"]',bind(e,t){const{sameOrigin:r}=t.utils;e.addEventListener("click",s=>{s.preventDefault();const i=t.resolve(e),n=e.dataset.lbAction;if("refresh"===n&&i)return void i.refresh();if(("load-more"===n||"more"===n)&&i)return void i.loadMore();const o=e.dataset.lbFetch;o&&r(o)&&i&&(i.setUrl(o),i.refresh())})}};e.LiveBlade&&e.LiveBlade.registerBinder("button",t),"undefined"!=typeof module&&module.exports&&(module.exports=t)}(window),function(e){"use strict";const t={selector:'[data-lb="toggle-update"], [data-lb-toggle]',bind(t,r){const{sameOrigin:s,error:i}=r.utils,n=r.config;t.addEventListener("change",async()=>{const o=t.dataset.lbFetch||t.dataset.lbToggle;if(!o||!s(o))return;if(t.dataset.lbConfirm&&!e.confirm(t.dataset.lbConfirm))return void(t.checked=!t.checked);const a=t.closest(".form-check, .form-switch, .lb-toggle"),l=!t.checked;a&&a.classList.add("lb-updating"),t.disabled=!0;try{const e=await fetch(o,{method:t.dataset.lbMethod||"POST",headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":r.getCsrf(),"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({[t.name||"value"]:t.checked?1:0}),credentials:"same-origin"});if(!e.ok)throw new Error(`HTTP ${e.status}`);t.disabled=!1,a&&(a.classList.remove("lb-updating"),a.classList.add("lb-success"),setTimeout(()=>a.classList.remove("lb-success"),n.successDuration));const s=r.resolve(t);s&&"false"!==t.dataset.lbRefresh&&s.refresh(),r.emit("toggle:success",{el:t,checked:t.checked})}catch(e){t.checked=l,t.disabled=!1,a&&(a.classList.remove("lb-updating"),a.classList.add("lb-error"),setTimeout(()=>a.classList.remove("lb-error"),n.errorDuration)),i("Toggle failed:",e),r.emit("toggle:error",{el:t,error:e})}})}};e.LiveBlade&&e.LiveBlade.registerBinder("toggle",t),"undefined"!=typeof module&&module.exports&&(module.exports=t)}(window),function(e){"use strict";const t={selector:'[data-lb="data"], [data-lb-data]',bind(e,t){const{sameOrigin:r}=t.utils,s=e.dataset.lbFetch||e.dataset.lbData;if(!s||!r(s))return;const i=async()=>{try{const r=await fetch(s,{headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":t.getCsrf(),Accept:"application/json"},credentials:"same-origin"});if(!r.ok)throw new Error(`HTTP ${r.status}`);const i=await r.json(),n=i?.value??i?.count??i?.total??Object.values(i||{}).find(e=>"number"==typeof e||"string"==typeof e);void 0!==n&&(e.textContent=n,e.classList.remove("lb-data-error")),t.emit("data:updated",{el:e,data:i})}catch(r){e.classList.add("lb-data-error"),e.textContent||(e.textContent="â€”"),t.emit("data:error",{el:e,error:r})}};i();const n=parseInt(e.dataset.lbInterval,10);n>0&&(e._lbDataTimer=setInterval(i,1e3*n))}};e.LiveBlade&&e.LiveBlade.registerBinder("data",t),"undefined"!=typeof module&&module.exports&&(module.exports=t)}(window),function(e){"use strict";const t={selector:'[data-lb="pagination"], [data-lb-pagination]',bind(e,t){const{sameOrigin:r}=t.utils;e.addEventListener("click",s=>{let i=s.target;if("A"!==i.tagName&&(i=i.closest("a")),!i?.href||"#"===i.href||i.classList.contains("disabled"))return;s.preventDefault(),s.stopPropagation();const n=t.resolve(e);n&&r(i.href)&&(n.setUrl(i.href),n.navigate())})}};e.LiveBlade&&e.LiveBlade.registerBinder("pagination",t),"undefined"!=typeof module&&module.exports&&(module.exports=t)}(window);